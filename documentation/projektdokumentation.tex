\documentclass[twoside]{report}

% ------
% Umlaute
\usepackage{ifluatex,ifxetex}
\ifluatex
  \usepackage{fontspec}
\else
  \ifxetex
    \usepackage{fontspec}
  \else
    \usepackage{selinput}
    \SelectInputMappings{
      adieresis={ä},
      germandbls={ß},
    }
    \usepackage[T1]{fontenc}
    %\usepackage{textcomp}% optional
    %\usepackage{lmodern}
  \fi
\fi

% ------
% Paper auf Deutsch
\usepackage[ngerman]{babel}

% ------
% Page layout
\usepackage[hmarginratio=1:1,top=32mm,columnsep=20pt]{geometry}
\usepackage[font=it]{caption}
\usepackage{paralist}
%\usepackage{multicol}


% ------
% Abstract
\usepackage{abstract}
	\renewcommand{\abstractnamefont}{\normalfont\bfseries}
	\renewcommand{\abstracttextfont}{\normalfont\small\itshape}


% ------
% Titling (section/subsection)
\usepackage{titlesec}
\renewcommand\thesection{\Roman{section}}
\titleformat{\section}[block]{\Large\scshape\bfseries}{\thesection.}{1em}{}
\setcounter{secnumdepth}{3}

% ------
% Tabellen über Seitenumbrüche hinweg
\usepackage{longtable}

%
% Erweiterte Tabellen
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{float}

%Unterschiedliche Zielgruppen des Dokuments
\usepackage{multiaudience}
\SetNewAudience{developer}
\SetNewAudience{manualDE}


% ------
% Header/footer
\usepackage{fancyhdr}
	\pagestyle{fancy}
	\fancyhead{}
	\fancyfoot{}
\begin{shownto}{-, developer, manualDE}
	\fancyhead[C]{Projektdokumentation $\bullet$ PUML $\bullet$ WS18/19$+$SS19}
	\fancyfoot[RO,LE]{}
\end{shownto}
\begin{shownto}{developer}
	\fancyhead[C]{Entwicklerdokumentation $\bullet$ PUML}
	\fancyfoot[RO,LE]{}
\end{shownto}
\begin{shownto}{manualDE}
	\fancyhead[C]{Benutzerhandbuch $\bullet$ PUML}
	\fancyfoot[RO,LE]{}
\end{shownto}


% ------
% Clickable URLs (optional)
%\usepackage{hyperref}
\usepackage[colorlinks=true,linkcolor=black]{hyperref} %Verlinkung des Inhaltsverzeichnisses ohne roten Rahmen um den Text

% ------
% Literaturverweise mit Bibtex einbinden
\usepackage[authoryear,sectionbib,round]{natbib}

% ------
% Bilder laden
\usepackage[pdftex]{graphicx}

\begin{shownto}{-, developer, manualDE}
% ------
% Maketitle metadata
\title{\vspace{-5mm}%
	\fontsize{24pt}{10pt}\selectfont
	\textbf{Projektdokumentation}
	}	
\author{%
        % alle Autoren hier listen
        % 
	\large
	\textsc{Softwarearchitekt: Philipp Rimmele -- philipp.rimmele@stud.htwk-leipzig.de} \\[2mm]
	\textsc{Product Owner: Anna Heinrich -- anna.heinrich@stud.htwk-leipzig.de} \\[2mm]
	\textsc{Marian Geißler -- marian.geissler@stud.htwk-leipzig.de} \\[2mm]
	\textsc{Patrick Otte -- patrick.otte@stud.htwk-leipzig.de} \\[2mm]
	\textsc{Johann Gerhardt -- johann.gerhardt@stud.htwk-leipzig.de} \\[2mm]
	\textsc{Michael Lux -- michael.lux@stud.htwk-leipzig.de}	\\[2mm]	
	\textsc{Jan Sollmann -- jan.sollmann@stud.htwk-leipzig.de} \\[2mm]
	\textsc{Julian Uebe -- julian.uebe@stud.htwk-leipzig.de} \\[2mm]
	\textsc{Elisabeth Schuster -- elisabeth.schuster@stud.htwk-leipzig.de} \\[2mm]		
	\textsc{Jona Meyer}	\\[2mm]	
	\textsc{Leo Rauschke}	\\[2mm]
	\textsc{Tore Arndt -- tore.arndt@stud.htwk-leipzig.de} \\[2mm]
	\normalsize	HTWK Leipzig 
	}
\date{}
\end{shownto}
\begin{shownto}{developer}
\title{\vspace{-5mm}%
	\fontsize{24pt}{10pt}\selectfont
	\textbf{Entwicklerdokumentation}
	}	
\author{%
        % alle Autoren hier listen
        % 
	\large
	\textsc{PUML} \\[2mm]
	}
\date{}
\end{shownto}
\begin{shownto}{manualDE}
\title{\vspace{-5mm}%
	\fontsize{24pt}{10pt}\selectfont
	\textbf{Benutzerhandbuch}
	}	
\author{%
        % alle Autoren hier listen
        % 
	\large
	\textsc{PUML} \\[2mm]
	}
\date{}
\end{shownto}


% Erweiterte Tabellen
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{float}

%Tabellen mit Items
\usepackage{booktabs}% http://ctan.org/pkg/booktabs
\newcommand{\tabitem}{~~\llap{\textbullet}~~}

% Code Beispiel Java
\usepackage{listings}
\lstset{
	language=Java,
	aboveskip=2mm,
	belowskip=2mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\small\ttfamily},
	numbers=none,
	breaklines=true,
	breakatwhitespace=true,
	tabsize=3
}

%Drehen von Text
\usepackage{rotating}
\newcommand\tabrotate[1]{\begin{turn}{90}\rlap{#1}\end{turn}}

\input{Makros/nestedSections}




%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}


% -------
% Titel und Abstract über beide Spalten
%\twocolumn[
%\begin{@twocolumnfalse}

\maketitle
\thispagestyle{fancy}

\tableofcontents

%%%%
%%%% Die Struktur des Dokuments bitte nicht aendern!!!
%%%%

\begin{shownto}{-, developer, manualDE}

\nsecbegin{Anforderungsspezifikation}

\nsecbegin{Initiale Kundenvorgaben}
\begin{itemize}
\item Zielbestimmung

PlantUML ist eine einfache, menschen-lesbare Speifikationssprache für die Erzeugung von UML-Diagrammen. Häufig werden allerdings auch UML-Diagramme zu bestehendem Quellcode benötigt, was durch eine gut unterstützte Generierung von PlantUML-Beschreibungen aus Java-Quelltext ermöglicht werden soll.

\item Produkteinsatz
 
Für den Einsatz in der Lehre ist die Generierung von Klassendiagrammen und Sequanzdiagrammen notwendig.

\item Produktbeschreibung
\begin{itemize}
\item eine jar-Datei oder eine Menge an java-Dateien ist einlesbar
\item der Quelltext ist zu analysieren und die identifizierten Klassen und Verknüpfungen sind anzuzeigen - einschließlich use-Beziehungen
\item der Nutzer kann entscheiden, welche Bestandteile in ein Klassen-Diagramm eingehen sollen
\item eine Voransicht des beschriebenen Diagramms ist zu integrieren 
\item eine Unterstützung für das Layout ist ebenfalls anzubieten
\item ferner soll für den Aufruf einer oder mehrerer Methoden ein Sequanzdiagramm abgeleitet werden - auch hier soll der Nutzer die Möglichkeit haben, einzelne tiefere Aufrufe zu blockieren bzw. sich bei alternativen Pfaden für einen Pfad zu entscheiden
\end{itemize}
\end{itemize}
\nsecend

% Hier eure Recherchen für den Produktvisions-Workshop ergänzen! Kopiert den Inhalt eures Dokuments einfach in die bereits dafür angelegte Datei. Ihr könnt auch gern selbst eine erstellen, denkt nur daran, die Aufgabenstellung aus Jira zu kopieren, damit am Ende alles schön einheitlich ist.

\nsecbegin{Produktvision}
\input{ProduktvisionRecherche/Kernfunktionalitaet}
\input{ProduktvisionRecherche/Anwenderprofil}
\input{ProduktvisionRecherche/PlantUML-Vorstellung}
\input{ProduktvisionRecherche/Konkurrenzprodukte}
\input{ProduktvisionRecherche/MoeglicheWeiterentwicklung}
\input{ProduktvisionRecherche/GUI-Anforderungen}
\input{ProduktvisionRecherche/Datenmodell}
\input{ProduktvisionRecherche/ErsteUser-Story}
\input{ProduktvisionRecherche/Workshop-Bedarfsermittlung}
\input{ProduktvisionRecherche/Workshop-Recherche}
\nsecend

% Das hier ist ein Absatz, der die Grafik in Abbildung~\ref{fig:bild1} detailliert erläutert, erklärt und interpretiert.

% \begin{figure}[b]
%   \centering
%   \includegraphics[width=4.5cm]{bspbild1.png}
%   \caption{Beispiel für ein einspaltiges Bild}
%   \label{fig:bild1}
% \end{figure}


\nsecbegin{Liste der funktionalen Anforderungen}
\input{userstories}
\nsecend

%
% soll der Inhalt dieser Subsection in einer separaten Datei
% (z.B. listefunktional.tex) liegen, dann kann dies mit dem
% folgenden Kommando geschehen.
%
% \input{listefunktional}

\nsecbegin{Liste der nicht-funktionalen Anforderungen}
\nsecbegin{Allgemein}
\begin{itemize}
\nsecend %{Allgemein\textsl{•}}
\item Testabdeckung >= 50\%
\item Keine spürbare Verzögerungen im Programmablauf
\item Bei längeren Ladezeiten muss dies dem Benutzer mitgeteilt werden (Ladebalken)
\end{itemize} 

\nsecbegin{Userstories}
\nsecbegin{Plattformunabhängigkeit}
Als Project Owner wünsche ich mir, dass das Programm plattformunabhängig ist, damit es sich gut verbreiten lässt.
\nsecend
\nsecbegin{Plugin}
Als Benutzer wünsche ich mir, PUML als Plugin direkt in Eclipse verwenden zu können, damit ich nicht außerhalb meiner Entwicklungsumgebung arbeiten muss.
\nsecend
\nsecbegin{Installation}
Als Benutzer wünsche ich mir, dass die Installation unkompliziert ist, damit ich das Programm schnell benutzen kann.
\nsecend
\nsecend %{Userstories}
\nsecend %{Liste der nicht-funktionalen Anforderungen}

\nsecbegin{Weitere Zuarbeiten zum Produktvisions-Workshop}
XXX
\nsecend

\nsecbegin{Zuarbeit von Autor X}
XXX
\nsecend

\nsecbegin{Zuarbeit von Autor Y}
XXX
\nsecend

\nsecbegin{Risikoanalyse}


\begin{table}[h]
\centering
\begin{tabular}{|l|l|l|l|p{8cm}|}
\toprule\addlinespace[2.5cm]
\tabrotate{Warscheinlichkeit} & \tabrotate{Auswirkung} & \tabrotate{Gesamt} & Risiko & Maßnahmen \\
\midrule
\midrule
5 & 5 & 25 & Entwickler fällt aus & \tabitem Die Aufgaben werden umverteilt\\ 
&&&& \tabitem Projektleitung springt ein\\
\midrule
3 & 7 & 21 & Projektleiter fällt aus & Professor Weicker kontaktieren und weitermachen\\
\midrule
7 & 4 & 28 & Die Zeit in einem Sprint reicht nicht & \tabitem Krisentreffen\\
&&&& \tabitem Unterstützung der Verantwortlichen durch andere Entwickler\\
&&&& \tabitem Sprintziel als nicht erreicht kennzeichnen und in nächsten Sprint übernehmen\\
%\midrule
% &  &  &  & \\

\bottomrule
\end{tabular}
\end{table}
\nsecend

\nsecbegin{Liste der Kundengespräche mit Ergebnissen}
\input{listeKundengespraeche}
\nsecend

\nsecend %Anforderungsspezifikation

\nsecbegin{Architektur und Entwurf}

\nsecbegin{Zuarbeiten der Teammitglieder}
\input{TechRecherche/Kommandozeile}
\input{TechRecherche/GUI}
\input{TechRecherche/RegEx}
\input{TechRecherche/XML}
\input{TechRecherche/Xpath}
\input{TechRecherche/Softwareverbreitung_Windows}
\input{TechRecherche/Exceptions}
\nsecend

\nsecbegin{Entscheidungen des Technologieworkshops}
XXX
\nsecend

\nsecbegin{Überblick über Architektur}
XXX
\nsecend

\nsecbegin{Definierte Schnittstellen}
XXX
\nsecend

\nsecbegin{Liste der Architekturentscheidungen}
%XXX (bewusste und unbewusste Entscheidungen mit zeitlicher Einordnung)

\begin{table}[h]
\centering
\begin{tabular}{|l|l|}
\toprule
Zeit & Entscheidung \\
\midrule
Bei Projektvergabe & Als Programmiersprache wird Java verwendet.\\
& Begründung der Entscheidung:\\
&      \tabitem Plattformunabhängigkeit\\
&      \tabitem Alle aus dem Team beherrschen Java\\
&      \tabitem Sauber und einsteigerfreundlich\\
&      \tabitem Weiterentwicklung zu Eclipse-Plugin möglich\\
&      \tabitem Ausgereifte GUI-Frameworks verfügbar\\
\midrule
Technologieworkshop & Für das GUI wird JavaFX verwendet\\
& Begründung der Entscheidung:\\
&      \tabitem ...\\
\bottomrule
\end{tabular}
\end{table}
\nsecend


\nsecend %Architektur und Entwurf

\end{shownto} %{-, developer, manualDE}
\begin{shownto}{-, manualDE}

\nsecbegin{Prozess- und Implementationsvorgaben}

\nsecbegin{Definition of Done}
XXX
\nsecend

\nsecbegin{Coding Style}
Bitte die Datei javaCodeStyle.xml im specification-Verzeichniss in Eclipse importieren und verwenden.
Hierfür in Eclipse unter "`Window->Preferences->Java->Code Style->Formatter"' auf Import klicken und die XML-Datei auswählen.\\
Ist der passende Coding Style eingestellt kann der Quellcode mit "`STRG+SHIFT+F"' automatisch formatiert werden.
Wird dies vor jedem Commit gemacht, ensteht ein einheitlicher Code-Style und die Änderungen können gut mit GIT überprüft werden.\\
\begin{figure}[hbtp]
\centering
\includegraphics[scale=0.5]{Bilder/importCodeStyle}
\caption{Code-Style in Eclipse importieren}
\end{figure}
Des weiteren empfiehlt es sich bei größeren oder stark geschachtelten Code-Abschnitten die Zugehörigkeit der Schließenden Klammer mit einem Kommentar zu Kennzeichnen.\\
Sonstige Konventionen:
\begin{itemize}
\item{Variablen und Instanzen beginnen kleingeschrieben}
\item{Klassen und Interfaces beginnen mit Großbuchstaben}
\item{Besteht ein Namen aus mehreren zusammengesetzten Wörtern, beginnen alle weiteren Wörter mit Großbuchstaben (keine Unterstriche in Namen verwenden)}
\item{Aussagekräftige Namen verwenden}
\item{Alle Namen auf Englisch}
\item{Die Kommentare auf Deutsch}
\item{Lange Kommentare immer vor den Codeabschnitt}
\item{Alle Methoden im Javadoc-Stiel dokumentieren}
\end{itemize}

\nsecend

\nsecbegin{Zu nutzende Werkzeuge}
\begin{itemize}
\item{Eclipse - Entwicklungsumgebung}
\item{GIT - Dateiversionierung}
\item{Meld - Unterschiede zwischen Dateien anzeigen}
\item{Texmaker - Latex-Editor}
\item{GIMP - Bildbearbeitung für das Editieren von Screenshots}
\end{itemize}
\nsecend



\nsecend %Prozess- und Implementationsvorgaben

\end{shownto} %{-, manualDE}
\begin{shownto}{developer}
\input{EntwicklerInformationen/howToDo}
\input{EntwicklerInformationen/bestPractice}
\end{shownto}

\begin{shownto}{-, developer, manualDE}

%%%%%%%%%%%%
%% Abschnitt mit den Sprints beginnt hier
%%%%%%%%%%%%

\nsecbegin{Sprint 1}
\input{sprints/sprint1}
\nsecend

\nsecbegin{Sprint 2}
\input{sprints/sprint2}
\nsecend

\nsecbegin{Sprint 3}
\input{sprints/sprint3}
\nsecend

\nsecbegin{Sprint 4}
\input{sprints/sprint4}
\nsecend

\nsecbegin{Sprint 7}
\input{sprints/sprint7}
\nsecend
%%%%%% weitere Sprints analog


\nsecbegin{Dokumentation}

\nsecbegin{Handbuch}
\end{shownto} %{-, developer, manualDE}
\begin{shownto}{-, developer}
\nsecbegin{Kommandozeilenaufruf}
Aufruf:\\
PUMLgenerator [-c -i inputPathes -o outputPathes (-cc | -s | -int | -cs entryClass entryMethod) [-ijar, -ijava]]

\begin{itemize}
\item Wird das Programm ohne Parameter aufgerufen öffnet sich die grafische Oberfläche
\item -c wird verwendet um einen Konsolen-Aufruf zu initiieren
\item  Nach -c müssen mit -i die Eingabepfade, mit -o der Ausgabepfad und je nach gewünschter Aktion -cc, s, -int oder -cs stehen
\item mit -ijar und -ijava können bestimmte Dateitypen ignoriert werden
\item interaktiver Modus
\begin{itemize}
\item Fragt ab welcher Typ von Diagramm erzeugt werden soll
\item Listet bei einem Sequenzdiagramm alle Klassen und Methoden auf und ermöglicht die Auswahl des Einstiegspunktes
\end{itemize}
\end{itemize}

\begin{tabular}{|c|c|c|c|}
\hline 
Parameter & Übergabewerte & Info & Beschreibung \\ 
\hline 
-c & & Konsolenaufruf & keine grafische Oberfläche \\ 
\hline 
-i & inputPathes & Input & durch Strichpunkt getrennte Liste der Pfade zu den einzulesenden Dateien und Ordnern \\ 
\hline 
-o & outputPath & Output & muss ein Pfad zu einem Ordner sein. Hier soll der plantUML-Code und das Diagramm erzeugt werden \\ 
\hline 
-ijar & & Ignore Jar & .jar-Dateien werden ignoriert \\ 
\hline 
-ijava & & Ignore Java & .java-Dateien werden ignoriert \\ 
\hline 
-cc & & create Classdiagram & erzeugt ein Klassendiagramm \\ 
\hline
-cs & entryClass, entryMethod & create Sequencediagram & erzeugt ein Sequenzdiagramm \\
-s & & show & listet alle Klassen und Methoden auf \\
-int & & interactive & interaktiver Modus \\
\hline 
\end{tabular} 


\nsecend
\end{shownto} %{-, developer}
\begin{shownto}{-, developer, manualDE}
\nsecend

\nsecbegin{Installationsanleitung}
XXX
\nsecend

\nsecbegin{Software-Lizenz}
Da die gesammte Ausgabe der Diagramme aus PUML auf der PlantUML Bibliothek basiert, welche selbst unter der GNU Public License (GPL) veröffentlicht wurde, kann PUML auch nur durch GPL lizensiert werden.
\\\\
Die Grundregel ergibt sich aus Ziffer 2b) GPLv2:
\\\\
\textit{You must cause any work that you distribute or publish, that in whole or in part contains or is derived from the Program or any part thereof, to be licensed as a whole at no charge to all third parties under the terms of this License.
}\\\\
Somit fiel die Wahl der Lizenz für das PUML-Programm auf die GNU Public License.
\nsecend

\nsecend %Dokumentation


\nsecbegin{Projektabschluss}

\nsecbegin{Protokoll der Abnahme und Inbetriebnahme beim Kunden}
XXX
\nsecend

\nsecbegin{Präsentation auf der Messe}
Poster, Bericht
\nsecend

\nsecbegin{Abschließende Einschätzung durch Product-Owner}
XXX
\nsecend

\nsecbegin{Abschließende Einschätzung durch Software-Architekt}
XXX
\nsecend

\nsecbegin{Abschließende Einschätzung durch Team-Manager}
XXX
\nsecend


\nsecend %Projektabschluss

\nsecdocumentend

\end{shownto} %{-, developer, manualDE}

\end{document}
